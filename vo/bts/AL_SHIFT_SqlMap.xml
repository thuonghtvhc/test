<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="AL_SHIFT1" >
  <resultMap id="ibatorgenerated_BaseResultMap" class="vo.bts.AlShift" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Thu Nov 15 09:39:45 ICT 2012.
    -->
    <result column="SHIFT_ID" property="shiftId" jdbcType="DECIMAL" />
    <result column="ID" property="id" jdbcType="DECIMAL" />
    <result column="GIAO_USERNAME" property="giaoUsername" jdbcType="NVARCHAR" />
    <result column="GIAO_CA_VIEN" property="giaoCaVien" jdbcType="NVARCHAR" />
    <result column="GIAO_CA_TRUC" property="giaoCaTruc" jdbcType="NVARCHAR" />
    <result column="GIAO_NGAY_TRUC" property="giaoNgayTruc" jdbcType="TIMESTAMP" />
    <result column="NHAN_USERNAME" property="nhanUsername" jdbcType="NVARCHAR" />
    <result column="NHAN_CA_VIEN" property="nhanCaVien" jdbcType="NVARCHAR" />
    <result column="NHAN_CA_TRUC" property="nhanCaTruc" jdbcType="NVARCHAR" />
    <result column="NHAN_NGAY_TRUC" property="nhanNgayTruc" jdbcType="TIMESTAMP" />
    <result column="NOI_DUNG" property="noiDung" jdbcType="NVARCHAR" />
   <!--  <result column="NHIET_DO" property="nhietDo" jdbcType="DECIMAL" />
    <result column="DO_AM" property="doAm" jdbcType="DECIMAL" /> -->
    <result column="GIAO_TAI_SAN" property="giaoTaiSan" jdbcType="NVARCHAR" />
    <result column="NHAN_TAI_SAN" property="nhanTaiSan" jdbcType="NVARCHAR" />
    <result column="NHAN_CONG_CU" property="nhanCongCu" jdbcType="NVARCHAR" />
    <result column="GIAO_CONG_CU" property="giaoCongCu" jdbcType="NVARCHAR" />
    <result column="CONG_VIEC_TIEP" property="congViecTiep" jdbcType="NVARCHAR" />
    <result column="IS_ACTIVE" property="isActive" jdbcType="NVARCHAR" />
    <result column="FK_SHIFT_ID" property="fkShiftId" jdbcType="DECIMAL" />
    <result column="CREATED_BY" property="createdBy" jdbcType="NVARCHAR" />
    <result column="CREATE_DATE" property="createDate" jdbcType="TIMESTAMP" />
    <result column="MODIFIED_BY" property="modifiedBy" jdbcType="NVARCHAR" />
    <result column="MODIFY_DATE" property="modifyDate" jdbcType="TIMESTAMP" />
    <result column="CREATED_BY_TCP_IP" property="createdByTcpIp" jdbcType="NVARCHAR" />
    <result column="MODIFIED_BY_TCP_IP" property="modifiedByTcpIp" jdbcType="NVARCHAR" />
    <result column="REGION" property="region" jdbcType="NVARCHAR" />
 	<result column="MA_PHONG" property="maPhong" jdbcType="NVARCHAR" />
 	<result column="NHAN_XET" property="nhanXet" jdbcType="NVARCHAR" />
  </resultMap>
  <select id="ibatorgenerated_selectByPrimaryKey" resultMap="ibatorgenerated_BaseResultMap" parameterClass="vo.bts.AlShift" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Thu Nov 15 09:39:45 ICT 2012.
    -->
    select SHIFT_ID, ID, GIAO_USERNAME, GIAO_CA_VIEN, GIAO_CA_TRUC, GIAO_NGAY_TRUC, NHAN_USERNAME,
      NHAN_CA_VIEN, NHAN_CA_TRUC, NHAN_NGAY_TRUC, NOI_DUNG, GIAO_TAI_SAN,
      NHAN_TAI_SAN, NHAN_CONG_CU, GIAO_CONG_CU, CONG_VIEC_TIEP, IS_ACTIVE, FK_SHIFT_ID, CREATED_BY,
      CREATE_DATE, MODIFIED_BY, MODIFY_DATE, CREATED_BY_TCP_IP, MODIFIED_BY_TCP_IP,REGION,MA_PHONG, NHAN_XET
    from AL_SHIFT
    where SHIFT_ID = #shiftId:DECIMAL#
  </select>
  <delete id="ibatorgenerated_deleteByPrimaryKey" parameterClass="vo.bts.AlShift" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Thu Nov 15 09:39:45 ICT 2012.
    -->
    delete from AL_SHIFT
    where SHIFT_ID = #shiftId:DECIMAL#
  </delete>
  <insert id="ibatorgenerated_insert" parameterClass="vo.bts.AlShift" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Thu Nov 15 09:39:45 ICT 2012.
    -->
    insert into AL_SHIFT (SHIFT_ID, ID, GIAO_USERNAME, GIAO_CA_VIEN, GIAO_CA_TRUC, GIAO_NGAY_TRUC,
      NHAN_USERNAME, NHAN_CA_VIEN, NHAN_CA_TRUC, NHAN_NGAY_TRUC, NOI_DUNG, NHIET_DO, DO_AM,
      GIAO_TAI_SAN, NHAN_TAI_SAN, NHAN_CONG_CU, GIAO_CONG_CU, CONG_VIEC_TIEP, IS_ACTIVE, FK_SHIFT_ID,
      CREATED_BY, CREATE_DATE, MODIFIED_BY, MODIFY_DATE, CREATED_BY_TCP_IP, MODIFIED_BY_TCP_IP,REGION,MA_PHONG,NHAN_XET)
    values (#shiftId:DECIMAL#, #id:DECIMAL#, #giaoUsername:NVARCHAR#, #giaoCaVien:NVARCHAR#,
      #giaoCaTruc:NVARCHAR#, #giaoNgayTruc:TIMESTAMP#, #nhanUsername:NVARCHAR#,
      #nhanCaVien:NVARCHAR#, #nhanCaTruc:NVARCHAR#, #nhanNgayTruc:TIMESTAMP#, #noiDung:NVARCHAR#,
      #nhietDo:DECIMAL#, #doAm:DECIMAL#, #giaoTaiSan:NVARCHAR#, #nhanTaiSan:NVARCHAR#,
      #nhanCongCu:NVARCHAR#, #giaoCongCu:NVARCHAR#, #congViecTiep:NVARCHAR#, #isActive:NVARCHAR#,
      #fkShiftId:DECIMAL#, #createdBy:NVARCHAR#, #createDate:TIMESTAMP#, #modifiedBy:NVARCHAR#,
      #modifyDate:TIMESTAMP#, #createdByTcpIp:NVARCHAR#, #modifiedByTcpIp:NVARCHAR#, #region:NVARCHAR#, #maPhong:VARCHAR#, #nhanXet:VARCHAR#)
  </insert>
  <insert id="ibatorgenerated_insertSelective" parameterClass="vo.bts.AlShift" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Thu Nov 15 09:39:45 ICT 2012.
    -->
    insert into AL_SHIFT
    <dynamic prepend="(" >
      <isNotNull prepend="," property="shiftId" >
        SHIFT_ID
      </isNotNull>
      <isNotNull prepend="," property="id" >
        ID
      </isNotNull>
      <isNotNull prepend="," property="giaoUsername" >
        GIAO_USERNAME
      </isNotNull>
      <isNotNull prepend="," property="giaoCaVien" >
        GIAO_CA_VIEN
      </isNotNull>
      <isNotNull prepend="," property="giaoCaTruc" >
        GIAO_CA_TRUC
      </isNotNull>
      <isNotNull prepend="," property="giaoNgayTruc" >
        GIAO_NGAY_TRUC
      </isNotNull>
      <isNotNull prepend="," property="nhanUsername" >
        NHAN_USERNAME
      </isNotNull>
      <isNotNull prepend="," property="nhanCaVien" >
        NHAN_CA_VIEN
      </isNotNull>
      <isNotNull prepend="," property="nhanCaTruc" >
        NHAN_CA_TRUC
      </isNotNull>
      <isNotNull prepend="," property="nhanNgayTruc" >
        NHAN_NGAY_TRUC
      </isNotNull>
      <isNotNull prepend="," property="noiDung" >
        NOI_DUNG
      </isNotNull>
      <isNotNull prepend="," property="nhietDo" >
        NHIET_DO
      </isNotNull>
      <isNotNull prepend="," property="doAm" >
        DO_AM
      </isNotNull>
      <isNotNull prepend="," property="giaoTaiSan" >
        GIAO_TAI_SAN
      </isNotNull>
      <isNotNull prepend="," property="nhanTaiSan" >
        NHAN_TAI_SAN
      </isNotNull>
      <isNotNull prepend="," property="nhanCongCu" >
        NHAN_CONG_CU
      </isNotNull>
      <isNotNull prepend="," property="giaoCongCu" >
        GIAO_CONG_CU
      </isNotNull>
      <isNotNull prepend="," property="congViecTiep" >
        CONG_VIEC_TIEP
      </isNotNull>
      <isNotNull prepend="," property="isActive" >
        IS_ACTIVE
      </isNotNull>
      <isNotNull prepend="," property="fkShiftId" >
        FK_SHIFT_ID
      </isNotNull>
      <isNotNull prepend="," property="createdBy" >
        CREATED_BY
      </isNotNull>
      <isNotNull prepend="," property="createDate" >
        CREATE_DATE
      </isNotNull>
      <isNotNull prepend="," property="modifiedBy" >
        MODIFIED_BY
      </isNotNull>
      <isNotNull prepend="," property="modifyDate" >
        MODIFY_DATE
      </isNotNull>
      <isNotNull prepend="," property="createdByTcpIp" >
        CREATED_BY_TCP_IP
      </isNotNull>
      <isNotNull prepend="," property="modifiedByTcpIp" >
        MODIFIED_BY_TCP_IP
      </isNotNull>
       <isNotNull prepend="," property="region" >
        REGION
      </isNotNull>
       <isNotNull prepend="," property="maPhong" >
        MA_PHONG
      </isNotNull>
       <isNotNull prepend="," property="nhanXet" >
        NHAN_XET
      </isNotNull>
     
      )
    </dynamic>
    values
    <dynamic prepend="(" >
      <isNotNull prepend="," property="shiftId" >
        #shiftId:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="id" >
        #id:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="giaoUsername" >
        #giaoUsername:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="giaoCaVien" >
        #giaoCaVien:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="giaoCaTruc" >
        #giaoCaTruc:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="giaoNgayTruc" >
        #giaoNgayTruc:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="nhanUsername" >
        #nhanUsername:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="nhanCaVien" >
        #nhanCaVien:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="nhanCaTruc" >
        #nhanCaTruc:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="nhanNgayTruc" >
        #nhanNgayTruc:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="noiDung" >
        #noiDung:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="nhietDo" >
        #nhietDo:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="doAm" >
        #doAm:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="giaoTaiSan" >
        #giaoTaiSan:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="nhanTaiSan" >
        #nhanTaiSan:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="nhanCongCu" >
        #nhanCongCu:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="giaoCongCu" >
        #giaoCongCu:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="congViecTiep" >
        #congViecTiep:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="isActive" >
        #isActive:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="fkShiftId" >
        #fkShiftId:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="createdBy" >
        #createdBy:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="createDate" >
        #createDate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="modifiedBy" >
        #modifiedBy:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="modifyDate" >
        #modifyDate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="createdByTcpIp" >
        #createdByTcpIp:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="modifiedByTcpIp" >
        #modifiedByTcpIp:NVARCHAR#
      </isNotNull>
       <isNotNull prepend="," property="region" >
         #region:NVARCHAR#
      </isNotNull>
       <isNotNull prepend="," property="maPhong" >
        #maPhong:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="nhanXet" >
         #nhanXet:VARCHAR#
      </isNotNull>
      )
    </dynamic>
  </insert>
  <update id="ibatorgenerated_updateByPrimaryKeySelective" parameterClass="vo.bts.AlShift" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Thu Nov 15 09:39:45 ICT 2012.
    -->
    update AL_SHIFT
    <dynamic prepend="set" >
      <isNotNull prepend="," property="id" >
        ID = #id:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="giaoUsername" >
        GIAO_USERNAME = #giaoUsername:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="giaoCaVien" >
        GIAO_CA_VIEN = #giaoCaVien:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="giaoCaTruc" >
        GIAO_CA_TRUC = #giaoCaTruc:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="giaoNgayTruc" >
        GIAO_NGAY_TRUC = #giaoNgayTruc:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="nhanUsername" >
        NHAN_USERNAME = #nhanUsername:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="nhanCaVien" >
        NHAN_CA_VIEN = #nhanCaVien:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="nhanCaTruc" >
        NHAN_CA_TRUC = #nhanCaTruc:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="nhanNgayTruc" >
        NHAN_NGAY_TRUC = #nhanNgayTruc:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="noiDung" >
        NOI_DUNG = #noiDung:NVARCHAR#
      </isNotNull>

      <isNotNull prepend="," property="giaoTaiSan" >
        GIAO_TAI_SAN = #giaoTaiSan:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="nhanTaiSan" >
        NHAN_TAI_SAN = #nhanTaiSan:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="nhanCongCu" >
        NHAN_CONG_CU = #nhanCongCu:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="giaoCongCu" >
        GIAO_CONG_CU = #giaoCongCu:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="congViecTiep" >
        CONG_VIEC_TIEP = #congViecTiep:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="isActive" >
        IS_ACTIVE = #isActive:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="fkShiftId" >
        FK_SHIFT_ID = #fkShiftId:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="createdBy" >
        CREATED_BY = #createdBy:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="createDate" >
        CREATE_DATE = #createDate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="modifiedBy" >
        MODIFIED_BY = #modifiedBy:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="modifyDate" >
        MODIFY_DATE = #modifyDate:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="createdByTcpIp" >
        CREATED_BY_TCP_IP = #createdByTcpIp:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="modifiedByTcpIp" >
        MODIFIED_BY_TCP_IP = #modifiedByTcpIp:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="region" >
         REGION = #region:NVARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="maPhong" >
        MA_PHONG = #maPhong:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="nhanXet" >
        NHAN_XET = #nhanXet:VARCHAR#
      </isNotNull>
    </dynamic>
    where SHIFT_ID = #shiftId:DECIMAL#
  </update>
  <update id="ibatorgenerated_updateByPrimaryKey" parameterClass="vo.bts.AlShift" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Thu Nov 15 09:39:45 ICT 2012.
    -->
    update AL_SHIFT
    set ID = #id:DECIMAL#,
      GIAO_USERNAME = #giaoUsername:NVARCHAR#,
      GIAO_CA_VIEN = #giaoCaVien:NVARCHAR#,
      GIAO_CA_TRUC = #giaoCaTruc:NVARCHAR#,
      GIAO_NGAY_TRUC = #giaoNgayTruc:TIMESTAMP#,
      NHAN_USERNAME = #nhanUsername:NVARCHAR#,
      NHAN_CA_VIEN = #nhanCaVien:NVARCHAR#,
      NHAN_CA_TRUC = #nhanCaTruc:NVARCHAR#,
      NHAN_NGAY_TRUC = #nhanNgayTruc:TIMESTAMP#,
      NOI_DUNG = #noiDung:NVARCHAR#,
      NHIET_DO = #nhietDo:DECIMAL#,
      DO_AM = #doAm:DECIMAL#,
      GIAO_TAI_SAN = #giaoTaiSan:NVARCHAR#,
      NHAN_TAI_SAN = #nhanTaiSan:NVARCHAR#,
      NHAN_CONG_CU = #nhanCongCu:NVARCHAR#,
      GIAO_CONG_CU = #giaoCongCu:NVARCHAR#,
      CONG_VIEC_TIEP = #congViecTiep:NVARCHAR#,
      IS_ACTIVE = #isActive:NVARCHAR#,
      FK_SHIFT_ID = #fkShiftId:DECIMAL#,
      CREATED_BY = #createdBy:NVARCHAR#,
      CREATE_DATE = #createDate:TIMESTAMP#,
      MODIFIED_BY = #modifiedBy:NVARCHAR#,
      MODIFY_DATE = #modifyDate:TIMESTAMP#,
      CREATED_BY_TCP_IP = #createdByTcpIp:NVARCHAR#,
      MODIFIED_BY_TCP_IP = #modifiedByTcpIp:NVARCHAR#,
      REGION = #region:NVARCHAR#,
      MA_PHONG = #maPhong:VARCHAR#,
       NHAN_XET = #nhanXet:VARCHAR#
    where SHIFT_ID = #shiftId:DECIMAL#
  </update>
  
  
   <!-- <select id="" resultMap="ibatorgenerated_BaseResultMap" parameterClass="vo.bts.AlShift" >
     select *
	    from (select *
	    	from AL_SHIFT WHERE REGION = #region:NVARCHAR# 
	    	order by SHIFT_ID DESC)
	    where ROWNUM <![CDATA[ <= ]]> 1
  </select> -->
    <procedure id="getCaTrucGanNhat" parameterClass="java.util.Map" resultMap="ibatorgenerated_BaseResultMap">
	      {
		      call PK_AL_SHIFT_NOC.pr_ca_truc_gan_nhat
		      (	
		      	#P_REGION,jdbcType=VARCHAR,mode=IN#,
		      	#P_MA_PHONG,jdbcType=VARCHAR,mode=IN#,
				#P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
			  )
	      }
	 </procedure>
   
   <procedure id="getCaTruc" parameterClass="java.util.Map" resultMap="ibatorgenerated_BaseResultMap">
	      {
		      call PK_AL_SHIFT_NOC.pr_al_shift_getHT
		      (	
		      	#P_CATRUC,jdbcType=VARCHAR,mode=IN#,
		      	#P_NGAYTRUC,jdbcType=VARCHAR,mode=IN#,
		      	#P_REGION,jdbcType=VARCHAR,mode=IN#,
		      	#P_MA_PHONG,jdbcType=VARCHAR,mode=IN#,
				#P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
			  )
	      }
	 </procedure>
	 
	 
	  <procedure id="checkCaTruc" parameterClass="java.util.Map" resultMap="ibatorgenerated_BaseResultMap">
	      {
		      call PK_AL_SHIFT_NOC.pr_al_shift_check
		      (	
		      	#P_CATRUC,jdbcType=VARCHAR,mode=IN#,
		      	#P_NGAYTRUC,jdbcType=VARCHAR,mode=IN#,
		      	#P_REGION,jdbcType=VARCHAR,mode=IN#,
		      	#P_MA_PHONG,jdbcType=VARCHAR,mode=IN#,
				#P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
			  )
	      }
	 </procedure>
	 
	 
    <resultMap class="vo.bts.SYS_PARAMETER" id="resultTitleForm">
	    <result column="ID" jdbcType="DECIMAL" property="id" />
	    <result column="CODE" jdbcType="NVARCHAR" property="code" />
	    <result column="NAME" jdbcType="NVARCHAR" property="name" />
	    <result column="VALUE" jdbcType="NVARCHAR" property="value" />
	    <result column="ORDERING" jdbcType="DECIMAL" property="ordering" />
	    <result column="DATA_TYPE" jdbcType="NVARCHAR" property="dataType" />
	    <result column="CREATED_BY" jdbcType="NVARCHAR" property="createdBy" />
	    <result column="CREATE_DATE" jdbcType="TIMESTAMP" property="createDate" />
	    <result column="MODIFIED_BY" jdbcType="NVARCHAR" property="modifiedBy" />
	    <result column="MODIFY_DATE" jdbcType="TIMESTAMP" property="modifyDate" />
	    <result column="REMARK" jdbcType="NVARCHAR" property="remark" />
	  </resultMap>
    <procedure id="titleCaTrucList" resultMap="resultTitleForm">
	      {
	      	call PK_AL_SET_TITLE.PR_TITLE_AL_SHIFT_GET
	      	(
	      		#P_TYPE,jdbcType=VARCHAR,mode=IN#,
		      	#P_FORM,jdbcType=VARCHAR,mode=IN#,
		      	#P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
	      	)
	      }
  </procedure>
  <resultMap id="resultMapFilterND" class="vo.bts.AlShift" >
    <result column="NGAY_TRUC" property="ngayTruc" jdbcType="TIMESTAMP" />
    <result column="SHIFT" property="catruc" jdbcType="NVARCHAR" />
    <result column="NOI_DUNG" property="noiDung" jdbcType="NVARCHAR" />
    <result column="GIAO_TAI_SAN" property="giaoTaiSan" jdbcType="NVARCHAR" />
    <result column="GIAO_CONG_CU" property="giaoCongCu" jdbcType="NVARCHAR" />
  	<result column="NHAN_TAI_SAN" property="nhanTaiSan" jdbcType="NVARCHAR" />
    <result column="NHAN_CONG_CU" property="nhanCongCu" jdbcType="NVARCHAR" /> 
    <result column="MA_PHONG" property="maPhong" jdbcType="NVARCHAR" />
  </resultMap>
  
  <procedure id="getNoiDungAtShif" parameterClass="java.util.Map" resultMap="resultMapFilterND">
      {
	      call PK_AL_SHIFT_NOC.PR_ND_BAN_GIAO_AT_SHIFT
	      (
	      	#P_SHIFT_ID,jdbcType=VARCHAR,mode=IN#,
	      	#P_DAY_TO,jdbcType=VARCHAR,mode=IN#,
	      	#P_DAY,jdbcType=VARCHAR,mode=IN#,
	      	#P_TYPE_FORM,jdbcType=VARCHAR,mode=IN#,
	      	#P_REGION,jdbcType=VARCHAR,mode=IN#,
	      	#P_MA_PHONG,jdbcType=VARCHAR,mode=IN#,
			#P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
		  )
      }
 </procedure>
   
    <procedure id="insertShiftAndWork" parameterClass="java.util.Map" >
      {
	      call PK_AL_SHIFT_NOC.PR_AL_SHIFT_WORK_INSERT
	      (
	      	#P_SHIFT_ID,jdbcType=VARCHAR,mode=IN#,
	      	#P_GIAO_USERNAME,jdbcType=VARCHAR,mode=IN#,
	      	#P_GIAO_CA_VIEN,jdbcType=VARCHAR,mode=IN#,
	      	#P_GIAO_CA_TRUC,jdbcType=VARCHAR,mode=IN#,
	      	#P_GIAO_NGAY_TRUC,jdbcType=TIMESTAMP,mode=IN#,
	      	#P_NHAN_USERNAME,jdbcType=VARCHAR,mode=IN#,
	      	#P_NHAN_CA_VIEN,jdbcType=VARCHAR,mode=IN#,
	      	#P_NHAN_CA_TRUC,jdbcType=VARCHAR,mode=IN#,
	      	#P_NHAN_NGAY_TRUC,jdbcType=TIMESTAMP,mode=IN#,
	      	#P_NOI_DUNG,jdbcType=VARCHAR,mode=IN#,
	      	#P_IS_ACTIVE,jdbcType=VARCHAR,mode=IN#,
	      	#P_CREATED_BY,jdbcType=VARCHAR,mode=IN#,
	      	#P_CREATE_DATE,jdbcType=TIMESTAMP,mode=IN#,
	      	#P_MA_PHONG,jdbcType=VARCHAR,mode=IN#,
	      	#P_REGION,jdbcType=VARCHAR,mode=IN#,
	      	#P_NHAN_CONG_CU,jdbcType=VARCHAR,mode=IN#,
	      	#P_NHAN_TAI_SAN,jdbcType=VARCHAR,mode=IN#,
	      	#P_GIAO_CONG_CU,jdbcType=VARCHAR,mode=IN#,
	      	#P_GIAO_TAI_SAN,jdbcType=VARCHAR,mode=IN#
		  )
      }
 </procedure>
 
<!-- Kiem tra dieu kien ban giao ca có thoa man hay khong cac dac diem sau:
	 * Công việc cố định trong ca: fix giờ hoàn thành trong ca. Giao ca mà trường Thời gian hoàn thành rỗng thì Alert và không cho giao ca.
	 * - Công việc thực hiện trong ca:  Giao ca mà nội dung rỗng thì Alert và không cho giao ca (ít nhất cũng có xử lý KPI theo giờ chứ không ca nào không có việc). 
	 * Công việc bàn giao trong ca: Giao ca mà nội dung rỗng thì Alert và không cho giao ca (không có công việc cũng phải gõ chữ “Không”).
	 * Ket qua tra ve 1-2/cong viec co dinh khong thoa man - cong viec thuc hien trong ca khong thoa man.
	 *  -->
  <procedure id="getAlShiftWorkCheck" parameterClass="java.util.Map" resultClass="Integer">
	      {
		      call PK_AL_SHIFT_NOC.PR_AL_SHIFT_WORK_CHECK
		      (	
		      	#P_NGAY_TRUC,jdbcType=VARCHAR,mode=IN#,
		      	#P_CA_TRUC,jdbcType=VARCHAR,mode=IN#,
		      	#P_TRUONG_CA,jdbcType=VARCHAR,mode=IN#,
		      	#P_CA_VIEN,jdbcType=VARCHAR,mode=IN#,
		      	#P_NOI_DUNG,jdbcType=VARCHAR,mode=IN#,
		      	#P_REGION,jdbcType=VARCHAR,mode=IN#,
		      	#P_DATA,jdbcType=INTEGER,mode=OUT,javaType=java.lang.Integer#
			  )
	      }
	 </procedure>
	 
	 <procedure id="checkRoleCaTruc" parameterClass="java.util.Map" resultMap="ibatorgenerated_BaseResultMap">
	      {
		      call PK_AL_SHIFT_NOC.PR_CHECK_ROLE_IN_SHIFT
		      (	
		      	#P_CATRUC,jdbcType=VARCHAR,mode=IN#,
		      	#P_NGAYTRUC,jdbcType=VARCHAR,mode=IN#,
		      	#P_USERNAME,jdbcType=VARCHAR,mode=IN#,
				#P_REGION,jdbcType=VARCHAR,mode=IN#,
				#P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
			  )
	      }
	 </procedure>
	 
	 <!-- LAY CA TRUC THEO MA PHONG MA USER DANG NHAP THUOC VAO. ANHCTV:02/12/2015 -->
	  <procedure id="getCaTrucByMaPhong" parameterClass="java.util.Map" resultMap="ibatorgenerated_BaseResultMap">
	      {
		      call PK_AL_SHIFT_NOC.PR_CA_TRUC_THEO_MAPHONG
		      (	
		      	#P_MA_PHONG,jdbcType=VARCHAR,mode=IN#,
				#P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
			  )
	      }
	 </procedure>
	 
	    <procedure id="getCaTrucByCaVaMaPhong" parameterClass="java.util.Map" resultMap="ibatorgenerated_BaseResultMap">
	      {
		      call PK_AL_SHIFT_NOC.PR_CA_TRUC_THEO_CA_MAPHONG
		      (	
		      	#P_CATRUC,jdbcType=VARCHAR,mode=IN#,
		      	#P_NGAYTRUC,jdbcType=VARCHAR,mode=IN#,
		      	#P_MAPHONG,jdbcType=VARCHAR,mode=IN#,
				#P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
			  )
	      }
	 </procedure>
   <!-- // update thong tin de xuat kien nghi trong ca -->
 	<procedure id="updateDeXuatKienNghi">
	      {
	      	call PK_NOC_DANH_GIA_CA_TRUC.UPDATE_DASHBOARD_KIENNGHI
	      	(
	      		#P_ID,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
 	      		#P_NHAN_XET,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#,
 	      		#P_MODIFIED_BY,jdbcType=VARCHAR,mode=IN,javaType=java.lang.String#
	      	)
	      }
 	 </procedure>
 	 <select id = "getRegion" resultClass="java.lang.String">
 	 	select distinct region from al_shift where region is not null
 	 </select>
 
   <procedure id="filter" parameterClass="java.util.Map" resultMap="ibatorgenerated_BaseResultMap">
      {
	      call PK_AL_SHIFT_NOC.FILTER_AL_SHIFT
	      (	
	      	#p_region,jdbcType=VARCHAR,mode=IN#,
	      	#p_ma_phong,jdbcType=VARCHAR,mode=IN#,
	      	#p_ngay_truc,jdbcType=VARCHAR,mode=IN#,
	      	#p_ca_truc,jdbcType=VARCHAR,mode=IN#,
	      	#p_ngay_truc_ct,jdbcType=VARCHAR,mode=IN#,
	      	#p_ca_truoc,jdbcType=VARCHAR,mode=IN#,	      	
			#P_DATA,jdbcType=ORACLECURSOR,mode=OUT,javaType=java.sql.ResultSet#
		  )
      }
	 </procedure>
</sqlMap>